(()=>{var O;(b=>{class f{constructor(q,h,l,p,t,ia){this.base=q;this.level=h;this.offset=l;this.costFunction=p;this.cumulativeFunction=t;this.maxFunction=ia}buy(q){q=q.times(1E4).floor().div(1E4);let h=this.costFunction(this.level).times(1E4).floor().div(1E4);return q.gte(h)&&(this.level=this.level.plus(1)),q.lt(h)?new Decimal(0):h}cost(){return this.costFunction(this.level)}}b.BaseCost=f;class a{constructor(q,h,l,p,t){this.base=q;this.level=h;this.costFunction=l;this.cumulativeFunction=p;this.maxFunction=
t}buy(q){let h=this.costFunction(this.level);return q.gte(h)&&(this.level=this.level.plus(1)),q.lt(h)?new Decimal(0):h}cost(){return this.costFunction(this.level)}}b.BaseCost2=a;let c;(q=>{q.costFunction=(h,l)=>h.times(l);q.cumulativeFunction=(h,l,p)=>{p=l.plus(p);return p.times(p.plus(1)).div(2).times(h).minus(l.times(l.plus(1)).div(2))};q.maxFunction=(h,l,p)=>{h=h.div(l).plus(p.times(p.plus(1)).div(2).times(l));h=h.times(8).plus(1).sqrt().minus(1).div(2).minus(p).floor();var t=h.plus(p);l=t.times(t.plus(1)).div(2).minus(p.times(p.plus(1)).div(2)).times(l);
return[h,l]}})(c=b.LinearFunctions||(b.LinearFunctions={}));class e extends a{constructor(q,h){super(new Decimal(q),new Decimal(h),(l=this.level)=>c.costFunction(this.base,(new Decimal(l)).plus(1)),l=>c.cumulativeFunction(this.base,this.level.plus(1),new Decimal(l)),l=>c.maxFunction(new Decimal(l),this.base,this.level.plus(1)));this.base=new Decimal(q);this.level=new Decimal(h)}}b.Linear=e;class d{}b.Cubic=d;let m;(q=>(q.costFunction=(h,l,p)=>h.pow(l).times(p),q.cumulativeFunction=(h,l,p,t)=>{if(l.lt(0))return new Decimal(0);
if(h==new Decimal(1))return p.times(t);p=t.times((new Decimal(1)).minus(h.pow(l.plus(p)))).div((new Decimal(1)).minus(h));h=t.times((new Decimal(1)).minus(h.pow(l))).div((new Decimal(1)).minus(h));return p.minus(h)},q.maxFunction=(h,l,p,t)=>{if(l.abs().lt(1))return[new Decimal(0),new Decimal(0)];if(p.lt(0))return[new Decimal(1),new Decimal(0)];if(l.eq(1))return l=h.div(t).floor(),[l,l.times(t)];h=h.times(l.minus(1)).div(t.times(l.pow(p))).plus(1).log(l).floor();t=t.times(l.pow(p).times(l.pow(h).minus(1))).div(l.minus(1));
return[h,t]}))(m||={});class r extends f{constructor(q,h,l){super(new Decimal(q),new Decimal(h),new Decimal(l),(p=this.level)=>m.costFunction(this.base,new Decimal(p),this.offset),p=>m.cumulativeFunction(this.base,this.level,new Decimal(p),this.offset),p=>m.maxFunction(new Decimal(p),this.base,this.level,this.offset));this.base=new Decimal(q);this.level=new Decimal(h);this.offset=new Decimal(l)}}b.Exponential=r;class w{}b.Free=w;class ja{}b.Const=ja;(q=>{class h{}q.Linear=h;class l{}q.Cubic=l;class p{}
q.Exponential=p})(b.Stepwise||(b.Stepwise={}));class ka{constructor(){}}b.Complex=ka})(O||={});var D=O,P;(b=>{(a=>(a.white="white",a.pink="pink",a["dark red"]="dark_red",a["dark blue"]="dark_blue",a.dark="dark"))(b.theme||(b.theme={}));let f=["dark_blue","dark_red","dark"];b.set=(a,c=!0)=>{document.querySelectorAll('link[href$=".theme.css"]').forEach(d=>{d.remove()});let e=document.createElement("link");e.type="text/css";e.rel="stylesheet";e.href=`css/${a}.theme.css`;document.head.appendChild(e);
f.includes(a)?document.body.classList.add("dark"):document.body.classList.remove("dark");c?document.body.classList.add("gradient"):document.body.classList.remove("gradient")};b.init=()=>{Object.values(b.theme).forEach(a=>{b.set(a)});document.getElementById("themes").innerHTML="";Object.entries(b.theme).forEach(([a,c])=>{document.getElementById("themes").innerHTML+=`<button id="theme-${c}-button">${a}</button>`});Object.entries(b.theme).forEach(([,a])=>{let c=k.p.settings;document.getElementById(`theme-${a}-button`)?.addEventListener("click",
()=>{c.theme=a;b.set(c.theme,c.gradient)})});b.set(k.p.settings.theme,k.p.settings.gradient)}})(P||={});var E=P,Q;(b=>(b.empty=()=>({energy:new Decimal(0),mass:new Decimal(0),generator:{xp:new Decimal(0),lv:new Decimal(1)},accelerator:{xp:new Decimal(0),lv:new Decimal(0)},upgrades:[{xp:new Decimal(0),lv:new Decimal(0),bo:new Decimal(0),am:new Decimal(0)},{xp:new Decimal(0),lv:new Decimal(0),bo:new Decimal(0),am:new Decimal(0)}],upgradesMass:[{xp:new Decimal(0),lv:new Decimal(0),bo:new Decimal(0),
am:new Decimal(0)},{xp:new Decimal(0),lv:new Decimal(0),bo:new Decimal(0),am:new Decimal(0)}],lastUpdate:Date.now(),tab:{tabs:"main"},settings:{theme:E.theme.dark,gradient:!0,autosave:!0,confirmPrestige:!0},unlocks:{upgrades:!1,mass:!1,challenges:!1,stars:!1},auto:{energy:{on:!0,bought:!1}},trophies:[{lv:new Decimal(0),xp:new Decimal(0),enabled:!0,unlocked:!1},{lv:new Decimal(0),xp:new Decimal(0),enabled:!0,unlocked:!1},{lv:new Decimal(0),xp:new Decimal(0),enabled:!0,unlocked:!1},{lv:new Decimal(0),
xp:new Decimal(0),enabled:!0,unlocked:!1}],stars:[[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]]}),b.p=null,b.saveLocation="save213dfsdfe32rads",b.save=()=>{localStorage.setItem(b.saveLocation,JSON.stringify(b.p));g.lastSave=Date.now()},b.load=()=>{var f=localStorage.getItem(b.saveLocation);let a=(0,b.empty)();if(f){let e=JSON.parse(f);a.energy=new Decimal(e.energy??a.energy);a.mass=new Decimal(e.mass??a.mass);a.stars=e.stars??a.stars;f=e.generator;var c=a.generator;
f=f??c;a.generator={xp:new Decimal(f.xp??c.xp),lv:new Decimal(f.lv??c.lv)};f=e.accelerator;c=a.accelerator;f=f??c;a.accelerator={xp:new Decimal(f.xp??c.xp),lv:new Decimal(f.lv??c.lv)};e.upgrades=e.upgrades??a.upgrades;a.upgrades.forEach((d,m)=>{d=e.upgrades[m];let r=a.upgrades[m];a.upgrades[m]={xp:new Decimal(d.xp??r.xp),lv:new Decimal(d.lv??r.lv),bo:new Decimal(d.bo??r.bo),am:new Decimal(d.am??r.am)}});e.upgradesMass=e.upgradesMass??a.upgradesMass;a.upgradesMass.forEach((d,m)=>{d=e.upgradesMass[m];
let r=a.upgradesMass[m];a.upgradesMass[m]={xp:new Decimal(d.xp??r.xp),lv:new Decimal(d.lv??r.lv),bo:new Decimal(d.bo??r.bo),am:new Decimal(d.am??r.am)}});f=e.settings;c=a.settings;f=f??c;a.settings={theme:f.theme??c.theme,gradient:f.gradient??c.gradient,autosave:f.autosave??c.autosave,confirmPrestige:f.confirmPrestige??c.confirmPrestige};e.trophies=e.trophies??a.trophies;a.trophies.forEach((d,m)=>{d=e.trophies[m];let r=a.trophies[m];a.trophies[m]={lv:new Decimal(d.lv??r.lv),xp:new Decimal(d.xp??r.xp),
enabled:d.enabled??r.enabled,unlocked:d.unlocked??r.unlocked}});f=e.unlocks;c=a.unlocks;a.unlocks={upgrades:f.upgrades??c.upgrades,mass:f.mass??c.mass,challenges:f.challenges??c.challenges,stars:f.stars??c.stars};a.auto=e.auto??a.auto;a.tab=e.tab??a.tab;a.lastUpdate=e.lastUpdate||a.lastUpdate}b.p=a},b.exportSave=()=>{let f=document.getElementById("saveExport"),a=f.parentElement;a.style.display="";f.value=JSON.stringify(b.p);f.onblur=function(){a.style.display="none"};f.focus();f.select();try{document.execCommand("copy")&&
f.blur(),document.getElementById("export").innerText="exported",setTimeout(()=>document.getElementById("export").innerText="export",2E3)}catch{}},b.importSave=()=>{let f=localStorage.getItem(b.saveLocation),a=prompt("paste your save string\nMAKE SURE ITS CORRECT\nloading a save will overwrite current save");if(null!=a)try{localStorage.setItem(b.saveLocation,a),(0,b.load)(),b.save(),location.reload()}catch{return f&&(localStorage.setItem(b.saveLocation,f),(0,b.load)()),window.alert("loading save failed")}},
b.resetSave=()=>{if("yes"==prompt('Are you sure you want to RESET all your progress?\nType "yes" to reset your progress')){let f=b.p.settings.gradient,a=b.p.settings.theme;b.p=(0,b.empty)();b.p.settings.gradient=f;b.p.settings.theme=a;(0,b.save)();location.reload()}},b.loadSave=()=>{(0,b.load)();(0,b.save)();location.reload()}))(Q||={});var k=Q,R;(b=>{b.upgrades=[{name:"energy booster",desc:()=>"increases generator's energy production",eff:(a=k.p.upgrades[0].am)=>u(a.times(k.p.upgrades[0].lv.div(10).plus(1))).div(5).plus(1),
cost:null},{name:"xp booster",desc:()=>"increases generator's xp gain",eff:(a=k.p.upgrades[1].am)=>u(a.times(k.p.upgrades[1].lv.div(10).plus(1))).div(2).plus(1),cost:null}];let f=()=>{let a=document.getElementById("upgrades-container");a.innerHTML="";b.upgrades.forEach(({name:c,desc:e},d)=>{a.innerHTML+=`<button id="upgrade-${d}">
    <div>
      <div>${c||""} <span id="upgrade-${d}-lv"></span></div>
      <div id="upgrade-${d}-xp"></div>
      <div>${e()}</div>
    </div>
    <div>
      <div id="upgrade-${d}-eff"></div>
      <div id="upgrade-${d}-cost"></div>
    </div>

    </button>`})};b.init=()=>{f();b.upgrades.forEach((a,c)=>{a.cost=new D.Exponential(2,k.p.upgrades[c].bo,100)})};b.buy=(a,c=!1)=>{let e=k.p,d=b.upgrades[a].cost.cost();e.energy.div(c?2:1).gte(d)&&(e.energy=e.energy.minus(d),e.upgrades[a].bo=e.upgrades[a].bo.plus(1),b.upgrades[a].cost.level=e.upgrades[a].bo,e.upgrades[a].am=e.upgrades[a].am.plus(e.upgrades[a].lv.div(10).plus(1)),e.upgrades[a].xp=e.upgrades[a].xp.plus(e.upgrades[a].bo.times(g.upgMassEffect[0]).div(2)),e.upgrades[a].xp.gte(g.upgXpNext[a])&&
(e.upgrades[a].xp=e.upgrades[a].xp.minus(g.upgXpNext[a]),e.upgrades[a].lv=e.upgrades[a].lv.plus(1),g.upgXpNext[a]=u(e.upgrades[a].lv.plus(1)).times(10)),g.upgEffect[a]=b.upgrades[a].eff(),g.upgEffectNext[a]=g.upgEffectNext[a]=b.upgrades[a].eff(e.upgrades[a].am.plus(e.upgrades[a].lv.div(10).plus(1))))}})(R||={});var v=R,S;(b=>{b.upgrades=[{name:"xp booster II",desc:()=>"increases generator's & upgrades xp gain",eff:(a=k.p.upgradesMass[0].am)=>u(a.times(k.p.upgradesMass[0].lv.div(10).plus(1))).div(5).plus(1),
cost:null},{name:"mass booster",desc:()=>"increases accelerator's xp gain",eff:(a=k.p.upgradesMass[1].am)=>u(a.times(k.p.upgradesMass[1].lv.div(10).plus(1))).div(10).plus(1),cost:null}];let f=()=>{let a=document.getElementById("upgradesMass-container");a.innerHTML="";b.upgrades.forEach(({name:c,desc:e},d)=>{a.innerHTML+=`<button id="upgradeMass-${d}">
    <div>
      <div>${c||""} <span id="upgradeMass-${d}-lv"></span></div>
      <div id="upgradeMass-${d}-xp"></div>
      <div>${e()}</div>
    </div>
    <div>
      <div id="upgradeMass-${d}-eff"></div>
      <div id="upgradeMass-${d}-cost"></div>
    </div>

    </button>`})};b.buy=a=>{let c=k.p,e=b.upgrades[a].cost.cost();c.mass.gte(e)&&(c.mass=c.mass.minus(e),c.upgradesMass[a].bo=c.upgradesMass[a].bo.plus(1),b.upgrades[a].cost.level=c.upgradesMass[a].bo,c.upgradesMass[a].am=c.upgradesMass[a].am.plus(c.upgradesMass[a].lv.div(10).plus(1)),c.upgradesMass[a].xp=c.upgradesMass[a].xp.plus(c.upgradesMass[a].bo.div(2)),c.upgradesMass[a].xp.gte(g.upgMassXpNext[a])&&(c.upgradesMass[a].xp=c.upgradesMass[a].xp.minus(g.upgMassXpNext[a]),c.upgradesMass[a].lv=c.upgradesMass[a].lv.plus(1),
g.upgXpNext[a]=u(c.upgradesMass[a].lv.plus(1)).times(10)),g.upgMassEffect[a]=b.upgrades[a].eff(),g.upgMassEffectNext[a]=g.upgMassEffectNext[a]=b.upgrades[a].eff(c.upgradesMass[a].am.plus(c.upgradesMass[a].lv.div(10).plus(1))))};b.init=()=>{f();b.upgrades[0].cost=new D.Exponential(Math.sqrt(2),k.p.upgradesMass[0].bo,1);b.upgrades[1].cost=new D.Exponential(Math.sqrt(2),k.p.upgradesMass[1].bo,2)}})(S||={});var z=S,x={trophy:[[new Decimal(1),new Decimal(.7777777),new Decimal(1)],[new Decimal(1),new Decimal(.1),
new Decimal(1)],[new Decimal(1),new Decimal(8),new Decimal(1)],[new Decimal(1),new Decimal(.5),new Decimal(1)]],accXpGain:new Decimal(0),genEnerGain:new Decimal(0),genXpGain:new Decimal(0),totalLevels:new Decimal(0),massNerf:new Decimal(0),energyToMass:new Decimal(0),genLvlToMass:new Decimal(0),accLvlToMass:new Decimal(0),levelsToMass:new Decimal(0),massToGet:new Decimal(0),accEffect:new Decimal(1),accXpNext:new Decimal("1e9999"),genXpNext:new Decimal("1e9999"),lastSave:Date.now(),upgEffect:[new Decimal(1),
new Decimal(1)],upgEffectNext:[new Decimal(1),new Decimal(1)],upgXpNext:[new Decimal("1e9999"),new Decimal("1e9999")],upgMassEffect:[new Decimal(1),new Decimal(1)],upgMassEffectNext:[new Decimal(1),new Decimal(1)],upgMassXpNext:[new Decimal("1e9999"),new Decimal("1e9999")],x:0,y:0},la=()=>{let b=k.p;x.genXpNext=u(b.generator.lv).times(10);x.accXpNext=u(b.accelerator.lv.plus(1)).times(10);x.upgXpNext.forEach((f,a)=>{x.upgXpNext[a]=u(b.upgrades[a].lv.plus(1)).times(10);x.upgEffect[a]=v.upgrades[a].eff();
x.upgEffectNext[a]=v.upgrades[a].eff(b.upgrades[a].am.plus(b.upgrades[a].lv.div(10).plus(1)))});x.upgXpNext.forEach((f,a)=>{x.upgMassXpNext[a]=u(b.upgradesMass[a].lv.plus(1)).times(10);x.upgMassEffect[a]=z.upgrades[a].eff();x.upgMassEffectNext[a]=z.upgrades[a].eff(b.upgradesMass[a].am.plus(b.upgradesMass[a].lv.div(10).plus(1)))});x.accEffect=T(b.accelerator.lv).div(10).plus(1).pow(2)},g=x,T=b=>(b=new Decimal(b),b.times(8).plus(1).sqrt().minus(1).div(2)),u=b=>(b=new Decimal(b),b.times(b.plus(1)).div(2)),
U=(b,f)=>{if(document.defaultView&&document.defaultView.getComputedStyle){let a=document.defaultView.getComputedStyle(b,null).getPropertyValue(f);return"auto"==a?b.parentElement&&U(b.parentElement,f)||null:a}return null},ma=(b,f=g.x,a=g.y)=>{let {left:c,right:e,top:d,bottom:m}=b.getBoundingClientRect();return f>=c&&f<=e&&a>=d&&a<=m},na="netscape"in window&&/ rv:/.test(navigator.userAgent),oa=document.getElementById("massToGet"),pa=document.getElementById("saveTimer"),qa=document.getElementById("energy-amount"),
ra=document.getElementById("mass-amount"),F=document.getElementById("f-auto-eu"),G=document.getElementById("auto-eu-checkbox"),sa=document.getElementById("auto-eu-status"),H=document.getElementById("f-buy-eu"),ta=document.getElementById("buy-eu-button"),I=document.getElementById("f-challenges-buy"),ua=document.getElementById("challneges-buy-button"),va=document.getElementById("generator-name"),wa=document.getElementById("generator-desc"),V=document.getElementById("f-bought-upgrades"),xa=document.getElementById("bought-upgrades-status"),
J=document.getElementById("f-buy-accelerator"),ya=document.getElementById("buy-accelerator-button"),W=document.getElementById("f-accelerator"),za=document.getElementById("accelerator-name"),Aa=document.getElementById("accelerator-desc"),X=document.getElementById("mass"),Y=document.getElementById("challenges"),Z=document.getElementById("stars"),A=null,aa=document.getElementById("f-upgrades"),B=null,C=document.getElementById("prestige-button"),K=document.getElementById("prestige-confirm"),Ba=document.getElementById("baseMass-gain"),
Ca=document.getElementById("baseEner-gain"),Da=document.getElementById("baseLvls-gain"),Ea=()=>{A=Array(v.upgrades.length).fill(0).map((b,f)=>({button:document.getElementById(`upgrade-${f}`),lv:document.getElementById(`upgrade-${f}-lv`),xp:document.getElementById(`upgrade-${f}-xp`),eff:document.getElementById(`upgrade-${f}-eff`),cost:document.getElementById(`upgrade-${f}-cost`)}));B=Array(v.upgrades.length).fill(0).map((b,f)=>({button:document.getElementById(`upgradeMass-${f}`),lv:document.getElementById(`upgradeMass-${f}-lv`),
xp:document.getElementById(`upgradeMass-${f}-xp`),eff:document.getElementById(`upgradeMass-${f}-eff`),cost:document.getElementById(`upgradeMass-${f}-cost`)}))},Fa=()=>{document.querySelectorAll("details").forEach(b=>{b.addEventListener("click",f=>{let a=f.target.parentElement?.classList.item(0);document.querySelectorAll(`details.${a}`).forEach(c=>{c!=f.target.parentElement&&c.removeAttribute("open")})})})},L=(b,f=0)=>{if(b=new Decimal(b),b.isNan())return"NaN";if(b.lt(10))return b.toFixed(Math.max(0,
f+2));if(b.lt(100))return b.toFixed(Math.max(0,f+1));if(b.lt(1E3))return b.toFixed(Math.max(0,f));let a=b.log10().floor();return b.lt((new Decimal(10)).pow((new Decimal(10)).pow(Math.max(2+f))))?(b.mantissa/1.001).toFixed(Math.max(0,3+f-a.log10().toNumber()))+"e"+a:b.lt("1e100000")?"e"+a:"e"+L(a)},ba=b=>(b=new Decimal(b),b.isNan()?"NaN":b.lt(1E7)?b.toFixed(0):L(b)),n=L,ca;(b=>{let f=k.p;b.always=a=>{qa.innerHTML=n(f.energy);ra.innerHTML=n(f.mass);pa.innerHTML=f.settings.autosave?`saving in: ${n(15-
(a-g.lastSave)/1E3)}s`:(g.lastSave=a,"saving in: never")};b.main=()=>{va.innerHTML=`generator lv ${ba(f.generator.lv)}`;wa.innerHTML=`xp ${n(f.generator.xp)} / ${n(g.genXpNext)}<br>
    makes ${n(g.genEnerGain)} energy/s<br>
    makes ${n(g.genXpGain)} xp/s`;za.innerHTML=`accelerator lv ${ba(f.accelerator.lv)}`;Aa.innerHTML=`xp ${n(f.accelerator.xp)} / ${n(g.accXpNext)}<br>
    makes time ${n(g.accEffect)}x faster<br>
    makes ${n(g.accXpGain)} xp/s`;v.upgrades.forEach(({cost:a},c)=>{A[c].lv.innerHTML="lv "+n(k.p.upgrades[c].lv);let e=f.upgrades[c].bo.plus(1).times(g.upgMassEffect[0]).div(2);A[c].xp.innerHTML=`xp ${n(f.upgrades[c].xp)} / ${n(g.upgXpNext[c])} [+${n(e)}]`;A[c].eff.innerHTML=`eff: ${n(g.upgEffect[c])}x -> ${n(g.upgEffectNext[c])}x`;A[c].cost.innerHTML=`cost: ${n(a.cost())} energy [${f.upgrades[c].bo}]`})};b.mass=()=>{oa.innerHTML=n(g.massToGet);z.upgrades.forEach(({cost:a},c)=>{B[c].lv.innerHTML=
"lv "+n(k.p.upgradesMass[c].lv);let e=f.upgradesMass[c].bo.plus(1).div(2);B[c].xp.innerHTML=`xp ${n(f.upgradesMass[c].xp)} / ${n(g.upgMassXpNext[c])} [+${n(e)}]`;B[c].eff.innerHTML=`eff: ${n(g.upgMassEffect[c])}x -> ${n(g.upgMassEffectNext[c])}x`;B[c].cost.innerHTML=`cost: ${n(a.cost())} energy [${f.upgradesMass[c].bo}]`})};b.help=()=>{};b.challenges=()=>{};b.stars=()=>{};b.settings=()=>{};b.init=()=>{f=k.p}})(ca||={});var M=ca,da;(b=>{b.tooltip=document.getElementById("tooltip");b.current="";b.lastTooltip=
"";b.tooltips={};let f=c=>{b.tooltip.classList.add("active");b.lastTooltip=b.current;b.current=c.id;b.tooltip.innerHTML=b.tooltips[b.current].tooltip();b.tooltip.style.position=b.tooltips[b.current].position;(0,b.updateTooltip)()};b.endTooltip=()=>{b.lastTooltip||b.tooltip.classList.remove("active");b.tooltip.innerHTML="";b.current!=b.lastTooltip?b.current=""+b.lastTooltip:b.current="";b.lastTooltip="";b.current&&(0,b.updateTooltip)()};document.querySelectorAll("[tooltip]").forEach(c=>{c.addEventListener("mouseenter",
()=>{f(c)});c.addEventListener("mouseleave",()=>{(0,b.endTooltip)()});c.addEventListener("touchstart",()=>{f(c)});c.addEventListener("touchend",()=>{(0,b.endTooltip)()})});b.setTooltipTop=(c,e)=>{let d=e.offsetTop??0;150>e.offsetTop?d+=e.offsetHeight+2:d-=c.offsetHeight+2;d=Math.max(3,Math.min(d,window.innerHeight));c.style.top=d+"px"};b.setTooltipLeft=(c,e)=>{let {left:d,width:m}=e.getBoundingClientRect();e=c.getBoundingClientRect().width;e=Math.floor(d+m/2-e/2)??0;e=Math.max(3,Math.min(e,window.innerWidth-
3));c.style.left=e+"px"};b.updateTooltip=()=>{let c=document.getElementById("tooltip");var e=document.getElementById(b.current);let d=b.tooltips[b.current].hoverOver,m=b.tooltips[b.current].show?.();(0,b.setTooltipLeft)(c,d??e);(0,b.setTooltipTop)(c,d??e);e=U(d??e,na?"z-index":"zIndex")||"1";c.style.zIndex=""+(+e+1);c.style.display=m?"":"disabled"};let a=(c,e,{position:d="absolute",hover:m,show:r}={position:"absolute"})=>{c.setAttribute("tooltip","");b.tooltips[c.id]={tooltip:e,position:d,hoverOver:m,
show:r}};b.init=()=>{a(document.getElementById("baseMass-gain"),()=>`${n(g.massNerf)} based on current mass`);a(document.getElementById("baseEner-gain"),()=>`+${n(g.energyToMass)} based on current energy`);a(document.getElementById("baseLvls-gain"),()=>{let c=`+${n(g.genLvlToMass)} based on generator level`;return k.p.stars[2][1]&&(c+=`<br>+${n(g.accLvlToMass)} based on accelerator level`),c});a(document.getElementById("reduced"),()=>"^0.1",{hover:document.getElementById("reduced")});a(document.getElementById("trophyAsterisk"),
()=>"some trophies will start with a negative effect<br>you can double click a trophy to disable it",{hover:document.getElementById("f-trophyeffects")});a(document.getElementById("trophy-0"),()=>"<div class='space'><div>level 0 / 100</div><div>xp 0 / 10</div></div><div>1.77x gen/acc gain & speed</div><div>7.77x energy gain</div><div>0.77x mass gain</div><div>1.00x easier challenges</div>");a(document.getElementById("trophy-1"),()=>"<div>level 0 / 100</div><div>xp 0 / 10</div><div></div><div></div><div>challenges scale 1.00x</div>");
a(document.getElementById("trophy-2"),()=>"<div>level 0 / 100</div><div>xp 0 / 10</div><div></div><div></div><div></div>");a(document.getElementById("trophy-3"),()=>"<div>level 0 / 100</div><div>xp 0 / 10</div><div></div><div></div><div></div>");document.querySelectorAll("[tooltip]").forEach(c=>{c.addEventListener("mouseenter",()=>{f(c)});c.addEventListener("mouseleave",()=>{(0,b.endTooltip)()});c.addEventListener("touchstart",()=>{f(c)});c.addEventListener("touchend",()=>{(0,b.endTooltip)()})})}})(da||=
{});var y=da,ea;(b=>{b.req={save:()=>k.p.settings.autosave};b.loopIds={main:0,unlocks:0,save:0};let f={main:1E3/30,unlocks:1E3,save:15E3};b.main=()=>{let a=k.p,c=Date.now();var e=(c-a.lastUpdate)/1E3;(g.genXpGain=a.generator.lv.times(g.upgEffect[1]).times(g.upgMassEffect[0]).times(g.accEffect),g.genEnerGain=a.generator.lv.times(g.upgEffect[0]).times(g.accEffect),a.generator.xp=a.generator.xp.plus(g.genXpGain.times(e)),a.energy=a.energy.plus(g.genEnerGain.times(e)),a.generator.xp.gte(g.genXpNext)&&
(a.generator.xp=a.generator.xp.minus(g.genXpNext),a.generator.lv=a.generator.lv.plus(1),g.genXpNext=u(a.generator.lv).times(10)),a.accelerator.lv.gt(0)&&(g.accXpGain=g.accEffect.times(g.upgMassEffect[1]),a.accelerator.xp=a.accelerator.xp.plus(g.accXpGain.times(e)),a.accelerator.xp.gte(g.accXpNext)&&(a.accelerator.xp=a.accelerator.xp.minus(g.accXpNext),a.accelerator.lv=a.accelerator.lv.plus(1),g.accXpNext=u(a.accelerator.lv).times(10),g.accEffect=T(a.accelerator.lv).div(10).plus(1).pow(2))),g.massNerf=
a.mass.max(1).log2().neg(),g.massToGet=g.massNerf,Ba.innerHTML=`base: ${n(g.massNerf)} <span class="pl2" style="visibility:hidden">${n(g.massToGet)}</span>`,g.energyToMass=u(a.energy.log10()).div(10),g.massToGet=g.massToGet.plus(g.energyToMass),Ca.innerHTML=`ener: ${n(g.energyToMass)} <span class="pl2">${n(g.massToGet)}</span>`,g.genLvlToMass=a.generator.lv.max(1).log10(),a.stars[2][1]?g.accLvlToMass=a.accelerator.lv.max(1).log10():g.accLvlToMass=new Decimal(0),g.levelsToMass=g.genLvlToMass.plus(g.accLvlToMass),
g.massToGet=g.massToGet.plus(g.levelsToMass),Da.innerHTML=`lvls: ${n(g.levelsToMass)} <span class="pl2">${n(g.massToGet)}</span>`,g.massToGet.lte(0)?(C.setAttribute("tabindex","-1"),C.classList.add("disabled")):(C.setAttribute("tabindex","0"),C.classList.remove("disabled")),a.energy.gte(50)&&(a.unlocks.upgrades=!0),g.massToGet.gte(3)&&(a.unlocks.mass=!0),y.current)?(e=y.tooltips[y.current].hoverOver??document.getElementById(y.current),ma(e)||y.endTooltip()):y.endTooltip();a.auto.energy.bought&&a.auto.energy.on&&
(v.buy(0,!0),v.buy(1,!0));M.always(c);M[a.tab.tabs]();a.lastUpdate=c};b.unlocks=()=>{let a=k.p;a.unlocks.upgrades?aa.style.display="":aa.style.display="none";a.accelerator.lv.gt(0)?W.style.display="":W.style.display="none";a.unlocks.mass?X.style.visibility="":X.style.visibility="hidden";a.unlocks.challenges?Y.style.visibility="":Y.style.visibility="hidden";a.unlocks.stars?Z.style.visibility="":Z.style.visibility="hidden"};b.save=()=>{k.save()};b.energyUpgrades=()=>{};b.start=(a,c)=>{b.loopIds[a]&&
(0,b.stop)(a);b.loopIds[a]=setInterval(b[a],c??f[a])};b.stop=a=>{b.loopIds[a]&&clearInterval(b.loopIds[a]);b.loopIds[a]=0};b.init=()=>{Object.keys(b.loopIds).forEach(a=>{!1!==b.req[a]?.()&&((0,b.start)(a,f[a]||1E3),console.log("started",a,"loop"))})}})(ea||={});var N=ea,fa;(b=>{let f=()=>{let d="";k.p.accelerator.lv.gt(0)&&(d+="accelerator");k.p.auto.energy.bought&&(d&&(d+="<br>"),d+="EU automation");k.p.unlocks.challenges&&(d&&(d+="<br>"),d+="challenges");V.style.display=d?"":"none";xa.innerHTML=
d},a=()=>{document.getElementById("save").addEventListener("click",()=>{k.save();document.getElementById("save").innerHTML="saved";setTimeout(()=>{document.getElementById("save").innerHTML="save"},2E3)});document.getElementById("load").addEventListener("click",k.loadSave);document.getElementById("export").addEventListener("click",()=>{k.exportSave();document.getElementById("export").innerHTML="exported";setTimeout(()=>{document.getElementById("export").innerHTML="export"},2E3)});document.getElementById("import").addEventListener("click",
k.importSave);document.getElementById("reset").addEventListener("click",k.resetSave);document.getElementById("gradient").checked=k.p.settings.gradient;document.getElementById("gradient").addEventListener("click",()=>{let d=k.p.settings;d.gradient=document.getElementById("gradient").checked;E.set(d.theme,d.gradient)});document.getElementById("autosave").checked=k.p.settings.autosave;document.getElementById("autosave").addEventListener("click",()=>{let d=k.p.settings;d.autosave=!d.autosave;document.getElementById("autosave").checked=
d.autosave;N[d.autosave?"start":"stop"]("save")})},c=()=>{let d=k.p;K.checked=d.settings.confirmPrestige;K.addEventListener("click",()=>{k.p.settings.confirmPrestige=K.checked});C.addEventListener("click",()=>{if(!g.massToGet.lte(0)){var m=!0;d.settings.confirmPrestige&&(m=confirm(`do you wish to reset all your energy, generator level and bought upgrades for ${n(g.massToGet)} mass`));m&&(d.mass=d.mass.plus(g.massToGet),d.energy=new Decimal(0),d.generator.lv=new Decimal(1),d.generator.xp=new Decimal(0),
g.genXpNext=u(d.generator.lv).times(10),d.upgrades.forEach((r,w)=>{r.am=new Decimal(0);r.bo=new Decimal(0);v.upgrades[w].cost.level=new Decimal(0);g.upgEffect[w]=v.upgrades[w].eff();g.upgEffectNext[w]=g.upgEffectNext[w]=v.upgrades[w].eff(d.upgrades[w].am.plus(d.upgrades[w].lv.div(10).plus(1)))}))}});z.upgrades.forEach((m,r)=>{B[r].button.addEventListener("click",()=>z.buy(r))});ya.addEventListener("click",()=>{d.mass.lt(3)||d.accelerator.lv.gt(0)||(d.mass=d.mass.minus(3),d.accelerator.lv=new Decimal(1),
J.style.display="none",V.style.display="",f())});d.accelerator.lv.gt(0)?J.style.display="none":J.style.display="";G.checked=d.auto.energy.on;G.addEventListener("click",()=>{let m=d.auto.energy;m.on=!m.on;G.checked=m.on;sa.innerHTML=m.on?"on":"off"});ta.addEventListener("click",()=>{d.mass.lt(6)||d.auto.energy.bought||(d.mass=d.mass.minus(6),d.auto.energy.bought=!0,H.style.display="none",F.style.display="",f())});d.auto.energy.bought?(H.style.display="none",F.style.display=""):(H.style.display="",
F.style.display="none");ua.addEventListener("click",()=>{d.mass.lt(10)||d.unlocks.challenges||(d.mass=d.mass.minus(10),d.unlocks.challenges=!0,I.style.display="none",f())});d.unlocks.challenges?I.style.display="none":I.style.display=""},e=()=>{v.upgrades.forEach((d,m)=>{A[m].button.addEventListener("click",()=>v.buy(m))})};b.init=()=>{a();c();f();e();onmousemove=function(d){g.x=d.pageX;g.y=d.pageY}}})(fa||={});var Ga=fa,ha;(b=>{let f=e=>{let d=e.id.split("-").slice(0,-1);return d.join("")?d.join("-"):
e.id},a={tabs:{}},c={tabs:{}};b.switchTab=(e,d)=>{let m=[...document.querySelectorAll(`#${d} > button`)].map(f);if(e){let r=document.getElementById(e).classList.contains("disabled"),w=document.getElementById(e).disabled;if(r||w)return}m.forEach(r=>{document.getElementById(r+"-tab").style.display="none"});e&&(a[d][e]?.(),c[d][k.p.tab[d]]?.(),document.getElementById(e+"-tab").style.display="",k.p.tab[d]=e)};b.setupTabs=e=>{[...document.querySelectorAll(`#${e} > button`)].forEach((d,m)=>{d.addEventListener("click",
()=>(0,b.switchTab)(f(d),e))})};b.init=()=>{Object.keys(k.p.tab).forEach(e=>{b.setupTabs(e)});Object.keys(k.p.tab).forEach(e=>{b.switchTab(k.p.tab[e],e)})}})(ha||={});var Ha=ha,Ia=(b=!0)=>{b&&k.load();N.unlocks();v.init();z.init();Ea();la();M.init();N.init();Ga.init();Ha.init();E.init();y.init();Fa()};document.addEventListener("DOMContentLoaded",()=>Ia())})();
